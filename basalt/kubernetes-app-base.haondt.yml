metadata:
  annotations:
    deployment.haondt.dev/repository: https://gitlab.com/haondt/deployments
defaults:
  pvc:
    storage_class: local-path
    size: 10Gi
  images:
    startup_tasks_chown: busybox:1.37
    startup_tasks_chmod: busybox:1.37
    charon_k8s_job: haumea/charon-k8s-job:0.0.5
  networking:
    gateway:
      name: haondt-default
      namespace: kgateway-system
  charon:
    name: default
    scale_down_deployment: true
    overlays:
      daily.schedule: "0 8 * * *"
      weekly.schedule: "0 8 * * 0"
    backup_overlays:
      default-gcs:
        repository_configs:
          - config_map:
              namespace: charon
              name: repository-default
              key: repository
          - config_map:
              namespace: charon
              name: repository-gcs-gabbro
              key: repository
          - secret:
              namespace: charon
              name: repository-default
              key: repository
        volumes:
          - secret:
              namespace: charon
              name: repository-gcs-gabbro
              key: credentials.json
            dest.file: /config/gcs/credentials.json
      default-hzsb:
        repository_configs:
          - config_map:
              namespace: charon
              name: repository-default
              key: repository
          - secret:
              namespace: charon
              name: repository-default
              key: repository
          - config_map:
              namespace: charon
              name: repository-hzsb
              key: repository
          - secret:
              namespace: charon
              name: repository-hzsb
              key: repository
