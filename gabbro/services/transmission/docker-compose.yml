services:
  transmission:
    image: lscr.io/linuxserver/transmission:latest@sha256:19b0110cc3f13624f51b3cffc83bb99c7dda5102de74ff3cf0c73bf3603130dc
    x-tl: +!
    networks:
      - gabbro_plex
      - gabbro_nginx
    ports:
      - 51413:51413
      - 51413:51413/udp
    volumes:
      - /home/sky/docker-compose/transmission/config:/config
      - /mnt/b/transmission/downloads:/downloads
      - /home/sky/docker-compose/transmission/watch:/watch

      - /mnt/celery/gabbro/transmission/config:/config
      - "{{ media__download_dir}}:/downloads"
    environment:
      VIRTUAL_PORT: 9091
      VIRTUAL_HOST: "transmission.{{ haondt__letsencrypt_host }}"
      LETSENCRYPT_HOST: "*.{{ haondt__letsencrypt_host }}"
      HTTPS_METHOD: nohttp

      PUID: "{{ gabbro__puid }}"
      PGID: "{{ gabbro__pgid }}"
      USER: transmission
      PASS: transmission
